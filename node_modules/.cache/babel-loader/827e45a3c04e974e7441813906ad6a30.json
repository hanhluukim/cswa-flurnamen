{"ast":null,"code":"import axios from \"axios\";\nconst token = \"cmVzdGFwaS1yZWFkOmRlMjgxMjMyOGIzYTZmODc1NDIyYjM4NzZlMDJiZTM3\";\nconst authHeader = {\n  'Authorization': `Basic ${token}`\n};\nconst API_URL = 'https://collections.thulb.uni-jena.de/api/v1';\n\nconst getResultsList = docs => {\n  const foundObjects = [];\n\n  for (var i = 0; i < docs.length; i++) {\n    var new_data = {\n      'id': data[i]['id'],\n      'title': data[i]['title'][0],\n      'gnd': data[i]['gnd'],\n      'link': data[i]['link'],\n      'facetObjectType': data[i]['facetObjectType'],\n      \"search_result_link_text\": data[i][\"search_result_link_text\"],\n      'ArchFile_class_001_Label': data[i]['ArchFile_class_001_Label'][1]\n    };\n    foundObjects.push(new_data);\n  }\n\n  return foundObjects;\n};\n\nconst searchInfoQuery = title => {\n  var req = API_URL + '/search?wt=json&q=+cbuUnitTypes.actual:(33.0 33.1) AND objectType:\"cbu\" AND title:' + title;\n  return axios.get(req, {\n    headers: authHeader\n  }).then(response => {\n    const data = response.data.response.docs; //docs is a list\n\n    const resultsList = getResultsList(data);\n    return resultsList;\n  });\n};\n/*\nconst getInfoDetails = (objectID) => {\n  var req = API_URL+'https://collections.thulb.uni-jena.de/api/v1/objects/'+objectID\n  return axios\n    .post(API_URL + \"signin\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      if (response.data.accessToken) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n*/\n\n\nexport default {\n  searchInfoQuery\n};","map":{"version":3,"sources":["/home/miss-luu/Downloads/0_Studium/0_web_client/react-redux-hooks-jwt-auth/src/components/apis/get.service.js"],"names":["axios","token","authHeader","API_URL","getResultsList","docs","foundObjects","i","length","new_data","data","push","searchInfoQuery","title","req","get","headers","then","response","resultsList"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,KAAK,GAAC,8DAAZ;AACA,MAAMC,UAAU,GAAC;AAAC,mBAAkB,SAAQD,KAAM;AAAjC,CAAjB;AACA,MAAME,OAAO,GAAC,8CAAd;;AAGA,MAAMC,cAAc,GAAIC,IAAD,IAAQ;AAC7B,QAAMC,YAAY,GAAC,EAAnB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EACM;AACI,QAAIE,QAAQ,GAAC;AACT,YAAKC,IAAI,CAACH,CAAD,CAAJ,CAAQ,IAAR,CADI;AAET,eAAQG,IAAI,CAACH,CAAD,CAAJ,CAAQ,OAAR,EAAiB,CAAjB,CAFC;AAGT,aAAMG,IAAI,CAACH,CAAD,CAAJ,CAAQ,KAAR,CAHG;AAIT,cAAOG,IAAI,CAACH,CAAD,CAAJ,CAAQ,MAAR,CAJE;AAKT,yBAAkBG,IAAI,CAACH,CAAD,CAAJ,CAAQ,iBAAR,CALT;AAMT,iCAA0BG,IAAI,CAACH,CAAD,CAAJ,CAAQ,yBAAR,CANjB;AAOT,kCAA2BG,IAAI,CAACH,CAAD,CAAJ,CAAQ,0BAAR,EAAoC,CAApC;AAPlB,KAAb;AAUAD,IAAAA,YAAY,CAACK,IAAb,CAAkBF,QAAlB;AACH;;AACL,SAAOH,YAAP;AACH,CAjBD;;AAmBA,MAAMM,eAAe,GAAKC,KAAD,IAAW;AAC9B,MAAIC,GAAG,GAAGX,OAAO,GAAE,oFAAT,GAA8FU,KAAxG;AACA,SAAOb,KAAK,CAACe,GAAN,CAAUD,GAAV,EAAe;AAACE,IAAAA,OAAO,EAACd;AAAT,GAAf,EAAqCe,IAArC,CAA2CC,QAAD,IAAY;AAE3D,UAAMR,IAAI,GAAGQ,QAAQ,CAACR,IAAT,CAAcQ,QAAd,CAAuBb,IAApC,CAF2D,CAEjB;;AAC1C,UAAMc,WAAW,GAAEf,cAAc,CAACM,IAAD,CAAjC;AACA,WAAOS,WAAP;AACD,GALM,CAAP;AAML,CARD;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe;AACbP,EAAAA;AADa,CAAf","sourcesContent":["import axios from \"axios\";\n\nconst token=\"cmVzdGFwaS1yZWFkOmRlMjgxMjMyOGIzYTZmODc1NDIyYjM4NzZlMDJiZTM3\"\nconst authHeader={'Authorization': `Basic ${token}`}\nconst API_URL='https://collections.thulb.uni-jena.de/api/v1'\n\n\nconst getResultsList = (docs)=>{\n  const foundObjects=[]\n  for (var i = 0; i < docs.length; i++)\n        {\n            var new_data={\n                'id':data[i]['id'],\n                'title':data[i]['title'][0],\n                'gnd':data[i]['gnd'],\n                'link':data[i]['link'],\n                'facetObjectType':data[i]['facetObjectType'],\n                \"search_result_link_text\":data[i][\"search_result_link_text\"],\n                'ArchFile_class_001_Label':data[i]['ArchFile_class_001_Label'][1],\n                \n            }\n            foundObjects.push(new_data)\n        }\n    return foundObjects\n};\n\nconst searchInfoQuery  = (title) => {\n      var req = API_URL+ '/search?wt=json&q=+cbuUnitTypes.actual:(33.0 33.1) AND objectType:\"cbu\" AND title:'+title;\n      return axios.get(req, {headers:authHeader}).then((response)=>{\n\n        const data = response.data.response.docs; //docs is a list\n        const resultsList= getResultsList(data);\n        return resultsList\n      });      \n};\n\n/*\nconst getInfoDetails = (objectID) => {\n  var req = API_URL+'https://collections.thulb.uni-jena.de/api/v1/objects/'+objectID\n  return axios\n    .post(API_URL + \"signin\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      if (response.data.accessToken) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n*/\nexport default {\n  searchInfoQuery\n};"]},"metadata":{},"sourceType":"module"}