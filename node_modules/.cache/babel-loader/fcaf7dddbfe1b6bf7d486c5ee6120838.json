{"ast":null,"code":"import axios from \"axios\";\nconst token = \"cmVzdGFwaS1yZWFkOmRlMjgxMjMyOGIzYTZmODc1NDIyYjM4NzZlMDJiZTM3\";\nconst authHeader = {\n  'Authorization': `Basic ${token}`\n};\nconst API_URL = 'https://collections.thulb.uni-jena.de/api/v1';\n\nconst getResultsList = data => {\n  const foundObjects = [];\n\n  for (var i = 0; i < data.length; i++) {\n    var new_data = {\n      'id': data[i]['id'],\n      'title': data[i]['title'][0],\n      'place': data[i]['place'][0],\n      'gnd': data[i]['gnd'],\n      'link': data[i]['link'],\n      'facetObjectType': data[i]['facetObjectType'],\n      \"search_result_link_text\": data[i][\"search_result_link_text\"],\n      'ArchFile_class_001_Label': data[i]['ArchFile_class_001_Label'][1]\n    };\n    foundObjects.push(new_data);\n  }\n\n  return foundObjects;\n};\n\nconst searchInfoQuery = title => {\n  var req = API_URL + '/search?wt=json&q=+cbuUnitTypes.actual:(33.0 33.1) AND objectType:\"cbu\" AND title:' + title;\n  return axios.get(req, {\n    headers: authHeader\n  }).then(response => {\n    const data = response.data.response.docs; //docs is a list\n\n    const resp_in_list = getResultsList(data);\n    return resp_in_list;\n  });\n};\n\nconst contentDetailGemarkung = dataJS => {\n  const content = \"\";\n  return content;\n};\n\nconst contentDetailFlurname = dataJS => {\n  const content = \"\";\n  return content;\n};\n\nconst getInfoDetails = objectID => {\n  var req = API_URL + '/objects/' + objectID;\n  return axios.get(req, {\n    headers: authHeader\n  }).then(response => {\n    var xml2js = require('react-native-xml2js');\n\n    var parser = new xml2js.Parser();\n    var dataJS = '';\n    parser.parseString(response.data, function (err, detailJSON) {\n      dataJS = detailJSON.mycoreobject;\n    });\n    console.log(\"ALL KEYS\");\n    console.log(dataJS);\n    console.log(Object.keys(dataJS.structure));\n\n    if (dataJS.structure['0'].includes('children')) {\n      contentDetailGemarkung(dataJS);\n      return \"Gemarkung\";\n    } else {\n      //Flurname\n      contentDetailFlurname(dataJS);\n      return \"Flurnamen\";\n    } //console.log(dataJS);\n    //var content = contentDetails(dataJS)\n\n\n    return dataJS;\n  });\n};\n\nexport default {\n  searchInfoQuery,\n  getInfoDetails\n};","map":{"version":3,"sources":["/home/miss-luu/Downloads/0_Studium/0_web_client/react-redux-hooks-jwt-auth/src/components/apis/get.service.js"],"names":["axios","token","authHeader","API_URL","getResultsList","data","foundObjects","i","length","new_data","push","searchInfoQuery","title","req","get","headers","then","response","docs","resp_in_list","contentDetailGemarkung","dataJS","content","contentDetailFlurname","getInfoDetails","objectID","xml2js","require","parser","Parser","parseString","err","detailJSON","mycoreobject","console","log","Object","keys","structure","includes"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nconst token=\"cmVzdGFwaS1yZWFkOmRlMjgxMjMyOGIzYTZmODc1NDIyYjM4NzZlMDJiZTM3\"\nconst authHeader={'Authorization': `Basic ${token}`}\nconst API_URL='https://collections.thulb.uni-jena.de/api/v1'\n\n\nconst getResultsList = (data)=>{\n  const foundObjects=[]\n  for (var i = 0; i < data.length; i++)\n        {\n            var new_data={\n                'id':data[i]['id'],\n                'title':data[i]['title'][0],\n                'place':data[i]['place'][0],\n                'gnd':data[i]['gnd'],\n                'link':data[i]['link'],\n                'facetObjectType':data[i]['facetObjectType'],\n                \"search_result_link_text\":data[i][\"search_result_link_text\"],\n                'ArchFile_class_001_Label':data[i]['ArchFile_class_001_Label'][1],\n                \n            }\n            foundObjects.push(new_data)\n        }\n    return foundObjects\n};\n\n\nconst searchInfoQuery  = (title) => {\n      var req = API_URL+ '/search?wt=json&q=+cbuUnitTypes.actual:(33.0 33.1) AND objectType:\"cbu\" AND title:'+title;\n      return axios.get(req, {headers:authHeader}).then((response)=>{\n        \n        const data = response.data.response.docs; //docs is a list\n        const resp_in_list= getResultsList(data);\n\n        return resp_in_list;\n      });      \n};\n\nconst contentDetailGemarkung=(dataJS)=>{\n  const content=\"\";\n  return content;\n};\n\nconst contentDetailFlurname=(dataJS)=>{\n  const content=\"\";\n  return content;\n};\n\nconst getInfoDetails = (objectID) => {\n  var req = API_URL+'/objects/'+objectID;\n  return axios.get(req, {headers:authHeader}).then((response)=>{\n        \n        var xml2js = require('react-native-xml2js');\n        var parser = new xml2js.Parser();\n        var dataJS='';\n        parser.parseString(response.data, function (err, detailJSON) {\n            dataJS = detailJSON.mycoreobject;\n        });\n        console.log(\"ALL KEYS\");\n        console.log(dataJS);\n        console.log(Object.keys(dataJS.structure));\n        \n        if(dataJS.structure['0'].includes('children')){\n            contentDetailGemarkung(dataJS);\n            return \"Gemarkung\"\n        }\n        else{\n          //Flurname\n            contentDetailFlurname(dataJS);\n            return \"Flurnamen\"\n        }\n        //console.log(dataJS);\n        //var content = contentDetails(dataJS)\n      return dataJS;\n  });\n};\n\nexport default {\n  searchInfoQuery,\n  getInfoDetails\n};"]},"metadata":{},"sourceType":"module"}