{"ast":null,"code":"import _objectSpread from\"/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Accordion=/*#__PURE__*/function(_React$Component){_inherits(Accordion,_React$Component);var _super=_createSuper(Accordion);function Accordion(props){var _this;_classCallCheck(this,Accordion);_this=_super.call(this,props);_this.state={index:typeof props.selectedIndex!=='undefined'?props.selectedIndex:-1};_this.nodes=[];return _this;}_createClass(Accordion,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){if(typeof props.selectedIndex!=='undefined'&&this.state.index!==props.selectedIndex){this.toggle(props.selectedIndex);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.timeout);}},{key:\"toggle\",value:function toggle(index,click){var _this2=this;clearTimeout(this.timeout);if(click){if(this.props.onChange)this.props.onChange(index,this.state.index!==index,this.state.index!==index?index:-1);if(!this.props.changeOnClick)return;}if(this.state.index>-1){var content=this.nodes[this.state.index].ref.children[1];content.style.height=\"\".concat(content.children[0].offsetHeight,\"px\");// Set fixed height before collapse of current open item\n}if(this.state.index===index||index===-1){setTimeout(function(){_this2.setState({index:-1});},50);}else{setTimeout(function(){_this2.setState({index:index});_this2.timeout=setTimeout(function(){_this2.nodes[index].ref.children[1].style.height='auto';// Set auto height after expand\n},_this2.props.transitionDuration);},50);}}},{key:\"getHeight\",value:function getHeight(index){if(index===this.state.index){return this.nodes.length>index?this.nodes[index].ref.children[1].children[0].offsetHeight:'auto';}return 0;}},{key:\"render\",value:function render(){var _this3=this;var style={overflow:'hidden',transition:\"height \".concat(this.props.transitionDuration,\"ms \").concat(this.props.transitionTimingFunction)};var nodes=React.Children.map(this.props.children,function(child,index){return/*#__PURE__*/_jsxs(\"div\",{ref:function ref(div){_this3.nodes[index]={ref:div};},className:_this3.state.index===index?_this3.props.openClassName:'',children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this3.toggle(index,true);},children:child.props['data-header']}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},style),{},{height:_this3.getHeight(index)}),children:child})]},index);});return/*#__PURE__*/_jsx(\"div\",{className:this.props.className,children:nodes});}}]);return Accordion;}(React.Component);Accordion.defaultProps={transitionDuration:500,transitionTimingFunction:'ease',openClassName:'open',changeOnClick:true};export default Accordion;","map":{"version":3,"sources":["/home/miss-luu/Downloads/0_Studium/0_web_client/cswa/cswa-flurnamen/src/components/Accordion.js"],"names":["React","Accordion","props","state","index","selectedIndex","nodes","toggle","clearTimeout","timeout","click","onChange","changeOnClick","content","ref","children","style","height","offsetHeight","setTimeout","setState","transitionDuration","length","overflow","transition","transitionTimingFunction","Children","map","child","div","openClassName","getHeight","className","Component","defaultProps"],"mappings":"6tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,MAAOF,CAAAA,KAAK,CAACG,aAAb,GAA+B,WAA/B,CAA6CH,KAAK,CAACG,aAAnD,CAAmE,CAAC,CADhE,CAAb,CAGA,MAAKC,KAAL,CAAa,EAAb,CALiB,aAMlB,C,+DAED,mCAA0BJ,KAA1B,CAAiC,CAC/B,GAAI,MAAOA,CAAAA,KAAK,CAACG,aAAb,GAA+B,WAA/B,EAA8C,KAAKF,KAAL,CAAWC,KAAX,GAAqBF,KAAK,CAACG,aAA7E,CAA4F,CAC1F,KAAKE,MAAL,CAAYL,KAAK,CAACG,aAAlB,EACD,CACF,C,oCAED,+BAAuB,CACrBG,YAAY,CAAC,KAAKC,OAAN,CAAZ,CACD,C,sBAED,gBAAOL,KAAP,CAAcM,KAAd,CAAqB,iBACnBF,YAAY,CAAC,KAAKC,OAAN,CAAZ,CAEA,GAAIC,KAAJ,CAAW,CACT,GAAI,KAAKR,KAAL,CAAWS,QAAf,CAAyB,KAAKT,KAAL,CAAWS,QAAX,CAAoBP,KAApB,CAA2B,KAAKD,KAAL,CAAWC,KAAX,GAAqBA,KAAhD,CAAuD,KAAKD,KAAL,CAAWC,KAAX,GAAqBA,KAArB,CAA6BA,KAA7B,CAAqC,CAAC,CAA7F,EACzB,GAAI,CAAC,KAAKF,KAAL,CAAWU,aAAhB,CAA+B,OAChC,CAED,GAAI,KAAKT,KAAL,CAAWC,KAAX,CAAmB,CAAC,CAAxB,CAA2B,CACzB,GAAMS,CAAAA,OAAO,CAAG,KAAKP,KAAL,CAAW,KAAKH,KAAL,CAAWC,KAAtB,EAA6BU,GAA7B,CAAiCC,QAAjC,CAA0C,CAA1C,CAAhB,CACAF,OAAO,CAACG,KAAR,CAAcC,MAAd,WAA0BJ,OAAO,CAACE,QAAR,CAAiB,CAAjB,EAAoBG,YAA9C,OAA+D;AAChE,CAED,GAAI,KAAKf,KAAL,CAAWC,KAAX,GAAqBA,KAArB,EAA8BA,KAAK,GAAK,CAAC,CAA7C,CAAgD,CAC9Ce,UAAU,CAAC,UAAM,CAAE,MAAI,CAACC,QAAL,CAAc,CAAEhB,KAAK,CAAE,CAAC,CAAV,CAAd,EAA8B,CAAvC,CAAyC,EAAzC,CAAV,CACD,CAFD,IAEO,CACLe,UAAU,CAAC,UAAM,CACf,MAAI,CAACC,QAAL,CAAc,CAAEhB,KAAK,CAALA,KAAF,CAAd,EACA,MAAI,CAACK,OAAL,CAAeU,UAAU,CAAC,UAAM,CAC9B,MAAI,CAACb,KAAL,CAAWF,KAAX,EAAkBU,GAAlB,CAAsBC,QAAtB,CAA+B,CAA/B,EAAkCC,KAAlC,CAAwCC,MAAxC,CAAiD,MAAjD,CAAwD;AACzD,CAFwB,CAEtB,MAAI,CAACf,KAAL,CAAWmB,kBAFW,CAAzB,CAGD,CALS,CAKP,EALO,CAAV,CAMD,CACF,C,yBAED,mBAAUjB,KAAV,CAAiB,CACf,GAAIA,KAAK,GAAK,KAAKD,KAAL,CAAWC,KAAzB,CAAgC,CAC9B,MAAO,MAAKE,KAAL,CAAWgB,MAAX,CAAoBlB,KAApB,CAA4B,KAAKE,KAAL,CAAWF,KAAX,EAAkBU,GAAlB,CAAsBC,QAAtB,CAA+B,CAA/B,EAAkCA,QAAlC,CAA2C,CAA3C,EAA8CG,YAA1E,CAAyF,MAAhG,CACD,CACD,MAAO,EAAP,CACD,C,sBAED,iBAAS,iBACP,GAAMF,CAAAA,KAAK,CAAG,CACZO,QAAQ,CAAE,QADE,CAEZC,UAAU,kBAAY,KAAKtB,KAAL,CAAWmB,kBAAvB,eAA+C,KAAKnB,KAAL,CAAWuB,wBAA1D,CAFE,CAAd,CAIA,GAAMnB,CAAAA,KAAK,CAAGN,KAAK,CAAC0B,QAAN,CAAeC,GAAf,CAAmB,KAAKzB,KAAL,CAAWa,QAA9B,CAAwC,SAACa,KAAD,CAAQxB,KAAR,qBACpD,aAAiB,GAAG,CAAE,aAAAyB,GAAG,CAAI,CAAE,MAAI,CAACvB,KAAL,CAAWF,KAAX,EAAoB,CAAEU,GAAG,CAAEe,GAAP,CAApB,CAAkC,CAAjE,CAAmE,SAAS,CAAE,MAAI,CAAC1B,KAAL,CAAWC,KAAX,GAAqBA,KAArB,CAA6B,MAAI,CAACF,KAAL,CAAW4B,aAAxC,CAAwD,EAAtI,wBACE,YAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvB,MAAL,CAAYH,KAAZ,CAAmB,IAAnB,CAAN,EAAd,UAA+CwB,KAAK,CAAC1B,KAAN,CAAY,aAAZ,CAA/C,EADF,cAEE,YAAK,KAAK,gCAAOc,KAAP,MAAcC,MAAM,CAAE,MAAI,CAACc,SAAL,CAAe3B,KAAf,CAAtB,EAAV,UAA0DwB,KAA1D,EAFF,GAAUxB,KAAV,CADoD,EAAxC,CAAd,CAMA,mBAAO,YAAK,SAAS,CAAE,KAAKF,KAAL,CAAW8B,SAA3B,UAAuC1B,KAAvC,EAAP,CACD,C,uBA/DqBN,KAAK,CAACiC,S,EAkE9BhC,SAAS,CAACiC,YAAV,CAAyB,CACvBb,kBAAkB,CAAE,GADG,CAEvBI,wBAAwB,CAAE,MAFH,CAGvBK,aAAa,CAAE,MAHQ,CAIvBlB,aAAa,CAAE,IAJQ,CAAzB,CAOA,cAAeX,CAAAA,SAAf","sourcesContent":["import React from 'react'\n\nclass Accordion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      index: typeof props.selectedIndex !== 'undefined' ? props.selectedIndex : -1\n    }\n    this.nodes = []\n  }\n\n  componentWillReceiveProps(props) {\n    if (typeof props.selectedIndex !== 'undefined' && this.state.index !== props.selectedIndex) {\n      this.toggle(props.selectedIndex)\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout)\n  }\n\n  toggle(index, click) {\n    clearTimeout(this.timeout)\n\n    if (click) {\n      if (this.props.onChange) this.props.onChange(index, this.state.index !== index, this.state.index !== index ? index : -1)\n      if (!this.props.changeOnClick) return\n    }\n\n    if (this.state.index > -1) {\n      const content = this.nodes[this.state.index].ref.children[1]\n      content.style.height = `${content.children[0].offsetHeight}px` // Set fixed height before collapse of current open item\n    }\n\n    if (this.state.index === index || index === -1) {\n      setTimeout(() => { this.setState({ index: -1 }) }, 50)\n    } else {\n      setTimeout(() => {\n        this.setState({ index })\n        this.timeout = setTimeout(() => {\n          this.nodes[index].ref.children[1].style.height = 'auto' // Set auto height after expand\n        }, this.props.transitionDuration)\n      }, 50)\n    }\n  }\n\n  getHeight(index) {\n    if (index === this.state.index) {\n      return this.nodes.length > index ? this.nodes[index].ref.children[1].children[0].offsetHeight : 'auto'\n    }\n    return 0\n  }\n\n  render() {\n    const style = {\n      overflow: 'hidden',\n      transition: `height ${this.props.transitionDuration}ms ${this.props.transitionTimingFunction}`\n    }\n    const nodes = React.Children.map(this.props.children, (child, index) => (\n      <div key={index} ref={div => { this.nodes[index] = { ref: div } }} className={this.state.index === index ? this.props.openClassName : ''}>\n        <div onClick={() => this.toggle(index, true)}>{child.props['data-header']}</div>\n        <div style={{ ...style, height: this.getHeight(index) }}>{child}</div>\n      </div>\n    ))\n    return <div className={this.props.className}>{nodes}</div>\n  }\n}\n\nAccordion.defaultProps = {\n  transitionDuration: 500,\n  transitionTimingFunction: 'ease',\n  openClassName: 'open',\n  changeOnClick: true\n}\n\nexport default Accordion\n"]},"metadata":{},"sourceType":"module"}